{
  "stages": [
    {
      "name": "parallel_fix",
      "mode": "dynamic",
      "discovery_command": "just run task ready 2>/dev/null | grep -E '^  â—‹ #[0-9]+' | head -10 | sed 's/^[^#]*#\\([0-9]*\\).*/\\1/'",
      "item_variable": "task_id",
      "max_concurrent": 7,
      "continue_on_failure": true,
      "prompt": "You are fixing a tech debt issue.\n\n## Task\nRun: `just run task show {{task_id}}`\nto see the full task details, then fix the issue.\n\n## Instructions\n\n1. Create a UNIQUE branch:\n   git checkout -b \"fix/task-{{task_id}}-$(date +%s)\"\n\n2. Read the task details and fix the issue\n\n3. Run tests:\n   just test\n\n4. If tests PASS, commit and create PR:\n   git add -A\n   git commit -m \"fix(tech-debt): Task #{{task_id}} - <brief description>\"\n   git push -u origin HEAD\n   gh pr create --title \"fix(tech-debt): Task #{{task_id}} - <brief description> (Issue #{{task_id}})\" --body \"Fixes task #{{task_id}}\"\n\n5. Report result as emdx doc"
    }
  ]
}
